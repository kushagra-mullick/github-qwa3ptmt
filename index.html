<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Primary Meta Tags -->
    <title>Locnix.ai - Location-Based Task Management App</title>
    <meta name="title" content="Locnix.ai - Location-Based Task Management App">
    <meta name="description" content="Organize your tasks by location with Locnix.ai. Create, manage, and track location-based tasks efficiently. Save favorite locations and manage your tasks on the go.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    
    <!-- Icons -->
    <link href="https://unpkg.com/feather-icons" rel="stylesheet">
  </head>
  <body>
    <nav class="navbar">
      <div class="navbar-container">
        <a href="/" class="navbar-brand">
          <i data-feather="map-pin"></i>
          Locnix.ai
        </a>
        <div class="navbar-menu">
          <a href="#" class="navbar-link" id="tasks-link">Tasks</a>
          <a href="#" class="navbar-link" id="bookmarks-link">Bookmarks</a>
          <div id="user-menu"></div>
        </div>
        <button class="btn btn-outline" id="menu-toggle" aria-label="Toggle menu">
          <i data-feather="menu"></i>
        </button>
      </div>
    </nav>

    <main>
      <!-- Auth Section -->
      <div class="auth-section" id="auth-section">
        <div class="card animate-slide-up">
          <h2 class="text-center mb-lg">Welcome to Locnix.ai</h2>
          <form id="auth-form" class="form">
            <div class="form-group">
              <label for="email" class="form-label">Email</label>
              <input type="email" id="email" class="form-input" required />
            </div>
            <div class="form-group">
              <label for="password" class="form-label">Password</label>
              <input type="password" id="password" class="form-input" required />
            </div>
            <button type="submit" id="auth-button" class="btn btn-primary w-full">
              Sign In
            </button>
            <button type="button" id="toggle-auth" class="btn btn-outline w-full">
              Switch to Sign Up
            </button>
            <button type="button" id="guest-access" class="btn btn-secondary w-full">
              Continue as Guest
            </button>
          </form>
        </div>
      </div>

      <!-- App Section -->
      <div class="app-section" id="app-section" style="display: none;">
        <!-- Hero Section -->
        <section class="hero animate-fade-in">
          <h1 class="hero-title">Organize Tasks by Location</h1>
          <p class="hero-subtitle">Create, manage, and track your tasks based on location</p>
        </section>

        <!-- Task Creation -->
        <section class="card task-creation animate-slide-up">
          <h2 class="section-title">Create New Task</h2>
          <div class="form-group">
            <label for="task" class="form-label">Task Description</label>
            <input type="text" id="task" class="form-input" placeholder="What needs to be done?" />
          </div>
          
          <div class="form-group">
            <label class="form-label">Location</label>
            <div class="location-search">
              <input 
                type="text" 
                id="location-search" 
                class="form-input" 
                placeholder="Search for a location..." 
              />
              <div id="search-results" class="search-results"></div>
            </div>
            <div class="location-actions">
              <button onclick="getCurrentLocation()" class="btn btn-outline">
                <i data-feather="crosshair"></i>
                Current Location
              </button>
              <button onclick="toggleMap()" class="btn btn-outline">
                <i data-feather="map"></i>
                Select on Map
              </button>
            </div>
            <input type="text" id="location" class="form-input" readonly />
          </div>

          <div class="form-group">
            <label for="reminder-time" class="form-label">Set Reminder</label>
            <select id="reminder-time" class="reminder-select">
              <option value="">No reminder</option>
              <option value="1h">In 1 hour</option>
              <option value="2h">In 2 hours</option>
              <option value="4h">In 4 hours</option>
              <option value="1d">In 1 day</option>
              <option value="2d">In 2 days</option>
              <option value="1w">In 1 week</option>
            </select>
          </div>

          <button onclick="addTask()" class="btn btn-primary">
            <i data-feather="plus"></i>
            Add Task
          </button>
        </section>

        <!-- Map Section -->
        <div id="map" class="map-container"></div>

        <!-- Bookmarks Section -->
        <section class="card bookmarks-section animate-slide-up">
          <h2 class="section-title">Saved Locations</h2>
          <div class="form-group">
            <input 
              type="text" 
              id="bookmark-name" 
              class="form-input" 
              placeholder="Name this location (e.g., Home, Work)" 
            />
            <button onclick="addBookmark()" class="btn btn-secondary">
              <i data-feather="bookmark"></i>
              Save Location
            </button>
          </div>
          <ul id="bookmarks-list" class="bookmarks-list"></ul>
        </section>

        <!-- Tasks List -->
        <section class="card tasks-section animate-slide-up">
          <h2 class="section-title">Tasks</h2>
          <div class="task-filters">
            <button onclick="filterTasks('all')" class="btn btn-outline active">All</button>
            <button onclick="filterTasks('active')" class="btn btn-outline">Active</button>
            <button onclick="filterTasks('completed')" class="btn btn-outline">Completed</button>
          </div>
          <ul id="tasks" class="tasks-list"></ul>
        </section>
      </div>
    </main>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
    <script type="module" src="/src/main.js"></script>
    <script>
      // Initialize Feather Icons
      document.addEventListener('DOMContentLoaded', () => {
        feather.replace();
      });
    </script>
  </body>
</html>